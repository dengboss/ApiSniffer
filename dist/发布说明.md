# API接口抓包工具 - 独立版本

## 📦 发布包说明

本发布包包含完全独立运行的API接口抓包工具，无需安装Python环境即可使用。

## 📁 文件结构

```
release/
├── ApiSniffer.exe         # 主程序（85.7 MB）
├── mitmdump.exe           # mitmproxy核心组件
├── mitm_writer.py         # 数据处理脚本
├── README.txt             # 详细说明文档
└── 使用说明.txt           # 快速使用指南
```

## 🚀 快速开始

1. **启动程序**
   ```
   双击 ApiSniffer.exe
   ```

2. **配置手机代理**
   - 手机连接与电脑相同的WiFi网络
   - 设置手机代理：
     - IP地址：电脑的IP地址
     - 端口：8080

3. **安装证书**
   - 在手机浏览器访问：http://mitm.it
   - 下载并安装对应的证书

4. **开始抓包**
   - 点击程序中的"开始监听"按钮
   - 在手机上操作移动应用
   - 查看抓取到的数据

## ✨ 主要特性

- **完全独立运行**：无需安装Python或其他依赖
- **内置mitmproxy 10.1.6**：最新稳定版本
- **图形化界面**：基于PyQt5的友好界面
- **数据导出**：支持导出为Excel格式
- **实时监控**：实时显示抓取的网络请求

## 💻 系统要求

- **操作系统**：Windows 10/11 (64位)
- **内存**：建议4GB以上
- **网络**：电脑和手机需在同一网络

## 🔧 使用步骤

### 1. 网络配置
确保电脑和手机连接到同一个WiFi网络。

### 2. 启动程序
双击 `ApiSniffer.exe` 启动程序。首次启动可能需要几秒钟时间。

### 3. 配置手机代理
在手机的WiFi设置中配置代理：
- 代理类型：HTTP
- 服务器：电脑的IP地址（程序界面会显示）
- 端口：8080

### 4. 安装证书
在手机浏览器中访问 `http://mitm.it`，下载并安装对应系统的证书。

### 5. 开始监听
点击程序中的"开始监听"按钮，然后在手机上操作移动应用。

### 6. 查看数据
程序会实时显示抓取到的网络请求，可以查看详细信息并导出数据。

## ❗ 注意事项

1. **防火墙设置**：首次运行时Windows可能会询问防火墙权限，请选择"允许访问"
2. **证书安装**：必须正确安装证书才能抓取HTTPS流量
3. **网络环境**：确保电脑和手机在同一网络，且网络稳定
4. **程序退出**：使用程序界面的退出按钮，不要直接关闭窗口

## 🐛 故障排除

### 问题1：点击"开始监听"没有反应
- 检查 `mitmdump.exe` 是否存在
- 检查端口8080是否被其他程序占用
- 尝试以管理员身份运行程序

### 问题2：手机无法连接代理
- 确认电脑IP地址是否正确
- 检查防火墙是否阻止了连接
- 尝试关闭电脑的防火墙测试

### 问题3：无法抓取HTTPS数据
- 确认是否正确安装了证书
- 检查证书是否被信任
- 重新下载安装证书

### 问题4：程序启动缓慢
- 首次启动需要解压内部文件，属于正常现象
- 后续启动会更快

## 📊 技术信息

- **开发语言**：Python 3.11
- **界面框架**：PyQt5
- **代理核心**：mitmproxy 10.1.6
- **打包工具**：PyInstaller 6.14.2
- **支持格式**：JSON, Excel (xlsx)

## 📝 版本信息

- **版本**：独立运行版 v1.0
- **构建日期**：2024年
- **文件大小**：约86MB
- **支持系统**：Windows 10/11 (x64)

## 🔄 更新说明

如需更新程序，请下载新版本的发布包并替换现有文件。用户数据和配置会自动保留。

## 📞 技术支持

如遇到问题，请检查：
1. 系统是否满足最低要求
2. 网络配置是否正确
3. 防火墙设置是否允许程序运行
4. 证书是否正确安装

---

**享受抓包分析的乐趣！** 🎉